<Window
    x:Class="Bobo.TrainerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:bobo="clr-namespace:Bobo"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:sync="http://schemas.syncfusion.com/wpf"
    xmlns:sys="clr-namespace:System;assembly=netstandard"
    Title="Model Trainer"
    Width="1350"
    Height="800"
    sync:SfSkinManager.Theme="{sync:SkinManagerExtension ThemeName=FluentDark}"
    DataContext="{StaticResource ViewModel}"
    Style="{StaticResource DarkWindow}"
    WindowState="Maximized"
    mc:Ignorable="d">

    <!--  ******************************************** Resources *********************************************  -->

    <Window.Resources>
        <Style TargetType="ToolTip">
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}" />
            <Setter Property="Background" Value="{StaticResource BlackBackground}" />
            <Setter Property="Foreground" Value="{StaticResource LightBlueBrush}" />
        </Style>
    </Window.Resources>

    <!--  ******************************************** Context Menu ******************************************  -->

    <Window.ContextMenu>
        <ContextMenu x:Name="MainWindowContextMenu">
            <sync:MenuItemAdv
                Click="OnFileMenuOptionClick"
                Header="File"
                ToolTip="Browse File System">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/FileItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <sync:MenuItemAdv
                Click="OnFolderMenuOptionClick"
                Header="Folder"
                ToolTip="Browse Directories">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/FolderItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <Separator Background="{StaticResource BlueBorderBrush}" />

            <sync:MenuItemAdv
                Click="OnChromeOptionClick"
                Header="Chrome"
                ToolTip="Launch Chrome Browser">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/ChromeItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <sync:MenuItemAdv
                Click="OnEdgeOptionClick"
                Header="Edge"
                ToolTip="Launch Edge Browser">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/EdgeItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <sync:MenuItemAdv
                Click="OnFirefoxOptionClick"
                Header="FireFox"
                ToolTip="Launch Firefox Browser">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/FirefoxItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <Separator Background="{StaticResource BlueBorderBrush}" />

            <sync:MenuItemAdv
                Click="OnCalculatorMenuOptionClick"
                Header="Calculator"
                ToolTip="Open Calculator">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/CalculatorItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <sync:MenuItemAdv
                Click="OnControlPanelOptionClick"
                Header="Control Panel"
                ToolTip="Windows 10 Control Panel">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/ControlPanelItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <sync:MenuItemAdv
                Click="OnTaskManagerOptionClick"
                Header="Task Manager"
                ToolTip="Windows 10 Task Manager">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/TaskManagerItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

            <Separator Background="{StaticResource BlueBorderBrush}" />

            <sync:MenuItemAdv
                Click="OnCloseOptionClick"
                Header="Close"
                ToolTip="Exit Application">
                <sync:MenuItemAdv.Icon>
                    <Image Source="/Resources/Assets/MenuImages/CloseItem.png" />
                </sync:MenuItemAdv.Icon>
            </sync:MenuItemAdv>

        </ContextMenu>
    </Window.ContextMenu>

    <!--  ************************************************   Input Bindings  *****************************************  -->

    <Window.InputBindings>
        <KeyBinding
            Key="Right"
            Command="{Binding ChangeFontCommand}">
            <KeyBinding.CommandParameter>
                <sys:Int32>1</sys:Int32>
            </KeyBinding.CommandParameter>
        </KeyBinding>
        <KeyBinding
            Key="Left"
            Command="{Binding ChangeFontCommand}">
            <KeyBinding.CommandParameter>
                <sys:Int32>-1</sys:Int32>
            </KeyBinding.CommandParameter>
        </KeyBinding>
        <KeyBinding
            Key="Return"
            Command="{Binding AddFontSettingCommand}" />
        <KeyBinding
            Key="Delete"
            Command="{Binding RemoveFontSettingCommand}" />
        <KeyBinding
            Key="Delete"
            Command="{Binding ClearFontSettingsCommand}"
            Modifiers="Shift" />
        <KeyBinding
            Key="F5"
            Command="{Binding TrainingModelCommand}" />
        <KeyBinding
            Key="F9"
            Command="{Binding EvaluateModelCommand}" />
        <KeyBinding
            Key="F8"
            Command="{Binding CheckAccuracyCommand}" />
    </Window.InputBindings>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="*"
                MinWidth="500" />
            <ColumnDefinition Width="2*" />
            <ColumnDefinition
                Width="*"
                MinWidth="360" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="120" />
            <RowDefinition Height="*" />
            <RowDefinition Height="80" />
        </Grid.RowDefinitions>
        <Grid
            Grid.Column="0"
            Grid.ColumnSpan="3"
            HorizontalAlignment="Stretch"
            Background="{StaticResource SteelBlueBackground}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock
                Grid.Column="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontFamily="Alias"
                FontSize="54"
                FontWeight="Light"
                Foreground="{StaticResource WhiteForeground}">
                <Run Text="MODEL TRAINER" />
                <Path
                    Grid.Column="2"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Data="M10920 12791 c-42 -13 -82 -36 -178 -106 -105 -75 -138 -88 -269 -109 -131 -21 -182 -46 -254 -125 -59 -64 -226 -210 -241 -211 -4 0 -19 21 -32 48 -37 72 -82 130 -117 147 -30 16 -32 16 -58 -8 -34 -31 -137 -100 -511 -339 -944 -603 -1330 -867 -1376 -939 -13 -21 -40 -93 -59 -161 -20 -68 -45 -137 -56 -155 -32 -51 -108 -113 -223 -182 -208 -123 -241 -162 -286 -341 -39 -156 -72 -200 -147 -200 -18 0 -41 -16 -75 -50 -55 -56 -90 -76 -221 -126 -124 -47 -144 -61 -283 -194 -66 -63 -145 -128 -175 -145 -47 -26 -64 -30 -134 -30 -71 0 -88 4 -155 36 -118 57 -150 86 -212 191 -32 53 -73 107 -92 122 -20 15 -84 49 -143 77 -60 28 -144 76 -188 108 -126 92 -137 96 -240 95 -106 0 -141 -13 -356 -130 -219 -119 -302 -140 -416 -106 -38 12 -111 26 -163 32 -144 16 -154 19 -226 66 -37 24 -75 44 -85 44 -11 0 -30 -17 -45 -41 -25 -41 -26 -41 -67 -33 -81 15 -188 8 -252 -17 -59 -24 -62 -27 -120 -121 -11 -18 -34 -40 -50 -48 -48 -24 -163 -17 -305 19 -150 37 -248 41 -297 11 -18 -11 -43 -41 -58 -69 -22 -44 -29 -51 -67 -58 -24 -5 -63 -5 -88 -1 -25 4 -80 11 -123 14 -75 7 -80 6 -150 -29 -39 -20 -119 -73 -176 -118 l-105 -81 -19 23 c-62 77 -70 105 -78 258 -9 195 -50 340 -150 531 -65 124 -97 160 -210 235 -295 196 -550 268 -778 220 -175 -37 -353 -136 -474 -264 -80 -85 -119 -150 -152 -254 -56 -174 -17 -361 146 -704 49 -104 55 -123 39 -123 -30 0 -60 -33 -67 -72 -14 -88 60 -221 203 -367 95 -98 104 -105 140 -105 22 1 49 4 60 8 20 7 22 3 32 -56 30 -174 25 -225 -28 -260 -23 -16 -40 -38 -50 -68 -14 -40 -19 -45 -55 -52 -51 -10 -70 -34 -95 -117 -11 -37 -28 -75 -37 -83 -10 -9 -41 -19 -70 -23 -70 -9 -76 -19 -68 -110 8 -84 2 -100 -45 -110 -53 -12 -90 -75 -162 -279 -150 -425 -158 -504 -70 -694 60 -129 66 -157 45 -217 -15 -46 -15 -48 12 -105 35 -73 32 -98 -31 -232 -45 -97 -46 -102 -42 -176 4 -59 15 -103 48 -187 74 -192 83 -229 83 -350 0 -95 -4 -119 -27 -178 -29 -76 -33 -123 -11 -153 8 -12 44 -36 81 -55 55 -27 75 -44 113 -97 25 -36 64 -88 87 -116 22 -28 67 -89 99 -136 95 -137 176 -210 297 -269 141 -69 239 -95 358 -95 185 0 346 85 531 282 70 74 90 104 136 201 65 138 80 157 258 341 186 191 239 271 281 426 14 52 23 68 44 79 15 8 46 35 69 61 l41 47 62 -6 c35 -3 123 -1 195 5 101 8 140 8 162 -2 19 -7 53 -46 97 -108 37 -53 93 -122 124 -152 170 -168 391 -184 681 -49 129 60 172 63 177 14 1 -16 -13 -91 -32 -165 -68 -265 -82 -627 -45 -1161 l12 -175 -26 -45 c-16 -27 -28 -68 -33 -106 -5 -53 -10 -63 -25 -63 -37 0 -110 -43 -149 -88 -72 -81 -83 -165 -54 -419 23 -209 13 -245 -90 -312 -88 -58 -184 -161 -223 -242 -63 -130 -73 -201 -103 -709 -27 -454 -43 -598 -90 -780 -130 -506 -340 -789 -745 -1001 -114 -60 -188 -85 -312 -104 -245 -39 -333 -75 -390 -159 -29 -42 -33 -57 -33 -111 0 -67 21 -110 70 -147 40 -29 214 -51 350 -44 153 8 215 20 340 66 131 48 199 60 337 61 82 1 137 -6 228 -26 138 -30 228 -33 341 -10 93 20 162 53 197 95 40 47 51 100 41 210 -21 247 19 427 157 711 52 107 73 139 87 139 11 0 84 -7 163 -15 247 -25 442 -35 678 -35 l228 0 6 53 c6 49 15 362 37 1197 7 292 12 357 29 426 11 44 32 152 46 240 34 210 48 257 117 399 67 138 74 170 87 362 13 189 35 270 170 635 53 144 147 447 250 810 l62 217 56 58 c225 233 387 578 384 822 -1 80 -18 150 -72 287 l-40 103 25 98 c21 84 91 315 111 364 3 8 22 23 43 32 78 35 302 239 456 417 132 152 182 223 304 435 25 45 69 98 119 145 80 77 99 90 379 273 216 141 301 228 625 632 269 337 304 375 714 760 424 399 479 459 819 883 98 122 192 233 210 246 17 13 69 41 116 63 88 41 206 128 278 207 40 44 42 48 42 109 0 74 -11 110 -56 187 -57 99 -58 94 48 145 147 69 213 89 298 89 62 1 84 -4 125 -25 45 -23 50 -29 47 -55 -2 -16 -4 -48 -5 -71 -1 -36 -5 -43 -22 -43 -36 0 -65 -28 -65 -63 0 -77 102 -157 199 -157 34 0 45 5 68 35 19 23 59 50 120 80 142 69 154 93 199 394 26 176 27 190 16 325 -7 78 -19 170 -28 206 -50 196 -177 309 -304 271z"
                    Fill="{StaticResource BackgroundBrush}">
                    <Path.LayoutTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleX="-0.004" ScaleY="0.004" />
                            <RotateTransform Angle="-180" />
                        </TransformGroup>
                    </Path.LayoutTransform>
                </Path>
                <Run Text="for text recognition in ML.NET" />
            </TextBlock>
        </Grid>
        <ContentControl
            Grid.Row="1"
            Margin="0,0,5,3"
            DataContext="{StaticResource ViewModel}"
            FontFamily="{Binding SelectedFont, Mode=OneWay, Converter={StaticResource NameToFontConverter}}">
            <Border
                Background="{StaticResource PressedBackgroundBrush}"
                BorderBrush="{StaticResource DisabledBackgroundBrush}"
                BorderThickness="0.75"
                ClipToBounds="True">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Border
                        Padding="10"
                        Background="{StaticResource BackgroundBrush}"
                        BorderBrush="{StaticResource DisabledBackgroundBrush}"
                        BorderThickness="0,0,0,0.75">
                        <Grid>
                            <Button
                                Width="40"
                                Height="40"
                                Margin="10,0"
                                HorizontalAlignment="Left"
                                Command="{Binding ChangeFontCommand}">
                                <Button.CommandParameter>
                                    <sys:Int32>-1</sys:Int32>
                                </Button.CommandParameter>
                                <Path
                                    Width="18"
                                    Height="18"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Data="M 15 0 L 0 20 L 15 40"
                                    Stretch="Uniform"
                                    Stroke="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground, Mode=OneWay}"
                                    StrokeThickness="2" />
                            </Button>
                            <Button
                                Width="40"
                                Height="40"
                                Margin="10,0"
                                HorizontalAlignment="Right"
                                Command="{Binding ChangeFontCommand}">
                                <Button.CommandParameter>
                                    <sys:Int32>1</sys:Int32>
                                </Button.CommandParameter>
                                <Path
                                    Width="18"
                                    Height="18"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Data="M 0 0 L 15 20 L 0 40"
                                    Stretch="Uniform"
                                    Stroke="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground, Mode=OneWay}"
                                    StrokeThickness="2" />
                            </Button>
                            <TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontFamily="Segio UI"
                                FontSize="18"
                                Foreground="{StaticResource ForegroundBrush}"
                                Text="{Binding SelectedFont, Mode=OneWay}" />
                        </Grid>
                    </Border>
                    <ScrollViewer
                        Grid.Row="1"
                        VerticalScrollBarVisibility="Hidden">
                        <StackPanel Margin="20">
                            <bobo:SampleText
                                VerticalAlignment="Top"
                                FontStyle="Normal"
                                FontWeight="Normal"
                                ShowLowerCase="{Binding ElementName=LowerCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowNumerics="{Binding ElementName=NumericsCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowUpperCase="{Binding ElementName=UpperCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                Visibility="{Binding ElementName=NormalCheckBox, Path=IsChecked, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}" />
                            <bobo:SampleText
                                VerticalAlignment="Top"
                                FontStyle="Italic"
                                FontWeight="Normal"
                                ShowLowerCase="{Binding ElementName=LowerCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowNumerics="{Binding ElementName=NumericsCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowUpperCase="{Binding ElementName=UpperCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                Visibility="{Binding ElementName=ItalicCheckBox, Path=IsChecked, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}" />
                            <bobo:SampleText
                                VerticalAlignment="Top"
                                FontStyle="Normal"
                                FontWeight="Bold"
                                ShowLowerCase="{Binding ElementName=LowerCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowNumerics="{Binding ElementName=NumericsCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowUpperCase="{Binding ElementName=UpperCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                Visibility="{Binding ElementName=BoldCheckBox, Path=IsChecked, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}" />
                            <bobo:SampleText
                                VerticalAlignment="Top"
                                FontStyle="Italic"
                                FontWeight="Bold"
                                ShowLowerCase="{Binding ElementName=LowerCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowNumerics="{Binding ElementName=NumericsCheckBox, Path=IsChecked, Mode=OneWay}"
                                ShowUpperCase="{Binding ElementName=UpperCaseCheckBox, Path=IsChecked, Mode=OneWay}"
                                Visibility="{Binding ElementName=BoldItalicCheckBox, Path=IsChecked, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}" />
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </Border>
        </ContentControl>
        <WrapPanel
            Grid.Row="1"
            Grid.Column="1"
            HorizontalAlignment="Stretch"
            Background="#11FFFFFF"
            ItemWidth="400"
            Orientation="Vertical">
            <Grid Margin="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="160" />
                    <ColumnDefinition Width="160" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>
                <TextBlock
                    Grid.ColumnSpan="2"
                    Margin="0,10"
                    FontSize="18"
                    Foreground="{StaticResource LightBlueBrush}"
                    Text="Font weight settings" />
                <CheckBox
                    x:Name="NormalCheckBox"
                    Grid.Row="1"
                    Margin="0,3"
                    Content="Normal Font"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseNormalFont, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <CheckBox
                    x:Name="ItalicCheckBox"
                    Grid.Row="2"
                    Grid.Column="0"
                    Margin="0,3"
                    Content="Italic Font"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseItalicFont, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <CheckBox
                    x:Name="BoldCheckBox"
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="0,3"
                    Content="Bold Font"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseBoldFont, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <CheckBox
                    x:Name="BoldItalicCheckBox"
                    Grid.Row="2"
                    Grid.Column="1"
                    Margin="0,3"
                    Content="Bold-Italic Font"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseBoldItalicFont, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            </Grid>

            <Grid Margin="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="160" />
                    <ColumnDefinition Width="160" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>
                <TextBlock
                    Grid.ColumnSpan="2"
                    Margin="0,10"
                    FontSize="18"
                    Foreground="{StaticResource LightBlueBrush}"
                    Text="Character settings" />
                <CheckBox
                    x:Name="LowerCaseCheckBox"
                    Grid.Row="1"
                    Margin="0,3"
                    Content="Lowercase"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseLowerCaseLetters, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <CheckBox
                    x:Name="UpperCaseCheckBox"
                    Grid.Row="2"
                    Grid.Column="0"
                    Margin="0,3"
                    Content="Uppercase"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseUpperCaseLetters, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <CheckBox
                    x:Name="NumericsCheckBox"
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="0,3"
                    Content="Numbers"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseNumbers, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            </Grid>

            <StackPanel
                Margin="20"
                ClipToBounds="False">
                <TextBlock
                    Grid.ColumnSpan="2"
                    Margin="0,10"
                    FontSize="18"
                    Foreground="{StaticResource LightBlueBrush}"
                    Text="Normal font rotation settings" />
                <CheckBox
                    x:Name="UseNormalFontRotation"
                    Content="Use normal font rotation"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseNormalFontRotation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <StackPanel Visibility="{Binding ElementName=UseNormalFontRotation, Path=IsChecked, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <TextBlock
                        Margin="0,10"
                        Text="Adjust slider range to define minimum to maximum rotation of text for normal and bold text, this range will be ignored if either bold or normal font is not used."
                        TextWrapping="Wrap" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Margin="5,0"
                            Text="{Binding ElementName=NormalRangeSlide, Path=RangeStart, Mode=OneWay}" />
                        <bobo:RangeSlider
                            x:Name="NormalRangeSlide"
                            Grid.Column="1"
                            Width="300"
                            HorizontalAlignment="Center"
                            ClipToBounds="False"
                            RangeStart="-20"
                            RangeStartSelected="{Binding FontSetting.NormalFontMinRotation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            RangeStop="20"
                            RangeStopSelected="{Binding FontSetting.NormalFontMaxRotation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <TextBlock
                            Grid.Column="2"
                            Margin="5,0"
                            Text="{Binding ElementName=NormalRangeSlide, Path=RangeStop, Mode=OneWay}" />
                    </Grid>
                    <Grid
                        Width="100"
                        Margin="10"
                        HorizontalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            FontSize="30"
                            Text="a">
                            <TextBlock.RenderTransform>
                                <RotateTransform Angle="{Binding ElementName=NormalRangeSlide, Path=RangeStartSelected, Mode=OneWay}" CenterX="8" CenterY="27" />
                            </TextBlock.RenderTransform>
                        </TextBlock>
                        <TextBlock
                            Grid.Column="1"
                            FontSize="30"
                            Text="a" />
                        <TextBlock
                            Grid.Column="2"
                            FontSize="30"
                            Text="a">
                            <TextBlock.RenderTransform>
                                <RotateTransform Angle="{Binding ElementName=NormalRangeSlide, Path=RangeStopSelected, Mode=OneWay}" CenterX="8" CenterY="27" />
                            </TextBlock.RenderTransform>
                        </TextBlock>
                    </Grid>
                </StackPanel>
            </StackPanel>

            <StackPanel
                Margin="20"
                ClipToBounds="False">
                <TextBlock
                    Grid.ColumnSpan="2"
                    Margin="0,10"
                    FontSize="18"
                    Foreground="{StaticResource LightBlueBrush}"
                    Text="Italic font rotation settings" />
                <CheckBox
                    x:Name="UseItalicFontRotation"
                    Content="Use italic font rotation"
                    Foreground="{StaticResource ForegroundBrush}"
                    IsChecked="{Binding FontSetting.UseItalicFontRotation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <StackPanel Visibility="{Binding ElementName=UseItalicFontRotation, Path=IsChecked, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <TextBlock
                        Margin="0,10"
                        Text="Adjust slider range to define minimum to maximum rotation of text for italic and bold-italic text, this range will be ignored if either italic and bold-italic font is not used."
                        TextWrapping="Wrap" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Margin="5,0"
                            Text="{Binding ElementName=ItalicRangeSlide, Path=RangeStart, Mode=OneWay}" />
                        <bobo:RangeSlider
                            x:Name="ItalicRangeSlide"
                            Grid.Column="1"
                            Width="300"
                            HorizontalAlignment="Center"
                            ClipToBounds="False"
                            RangeStart="-20"
                            RangeStartSelected="{Binding FontSetting.ItalicFontMinRotation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            RangeStop="20"
                            RangeStopSelected="{Binding FontSetting.ItalicFontMaxRotation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <TextBlock
                            Grid.Column="2"
                            Margin="5,0"
                            Text="{Binding ElementName=ItalicRangeSlide, Path=RangeStop, Mode=OneWay}" />
                    </Grid>
                    <Grid
                        Width="100"
                        Margin="10"
                        HorizontalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            FontSize="30"
                            FontStyle="Italic"
                            Text="a">
                            <TextBlock.RenderTransform>
                                <RotateTransform Angle="{Binding ElementName=ItalicRangeSlide, Path=RangeStartSelected, Mode=OneWay}" CenterX="8" CenterY="27" />
                            </TextBlock.RenderTransform>
                        </TextBlock>
                        <TextBlock
                            Grid.Column="1"
                            FontSize="30"
                            FontStyle="Italic"
                            Text="a" />
                        <TextBlock
                            Grid.Column="2"
                            FontSize="30"
                            FontStyle="Italic"
                            Text="a">
                            <TextBlock.RenderTransform>
                                <RotateTransform Angle="{Binding ElementName=ItalicRangeSlide, Path=RangeStopSelected, Mode=OneWay}" CenterX="8" CenterY="27" />
                            </TextBlock.RenderTransform>
                        </TextBlock>
                    </Grid>
                </StackPanel>
            </StackPanel>
            <StackPanel Margin="20">
                <TextBlock
                    Grid.ColumnSpan="2"
                    Margin="0,10"
                    FontSize="18"
                    Foreground="{StaticResource LightBlueBrush}"
                    Text="Engine Settings" />
                <TextBlock
                    Margin="0,0,0,20"
                    Text="Select the training engine for training ML.net model."
                    TextWrapping="Wrap" />
                <RadioButton
                    Margin="0,3"
                    Content="SDCA maximum entropy"
                    GroupName="Engine"
                    IsChecked="{Binding EngineSetting.UseSdcaMaximumEntropy, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <RadioButton
                    Margin="0,3"
                    Content="SDCA non calibrated"
                    GroupName="Engine"
                    IsChecked="{Binding EngineSetting.UseSdcaNonCalibrated, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <RadioButton
                    Margin="0,3"
                    Content="Limited memory BFGS"
                    GroupName="Engine"
                    IsChecked="{Binding EngineSetting.UseLbfgsMaximumEntropy, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <RadioButton
                    Margin="0,3"
                    Content="Naive bayes"
                    GroupName="Engine"
                    IsChecked="{Binding EngineSetting.UseNaiveBayes, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <RadioButton
                    Margin="0,3"
                    Content="Light gradient boosting machine"
                    GroupName="Engine"
                    IsChecked="{Binding EngineSetting.UseLightGmb, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <RadioButton
                    Margin="0,3"
                    Content="Tensorflow"
                    GroupName="Engine"
                    IsChecked="{Binding EngineSetting.UseImageClassification, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            </StackPanel>
        </WrapPanel>
        <Grid
            Grid.Row="1"
            Grid.Column="2"
            Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <TextBlock
                Grid.ColumnSpan="2"
                Margin="0,10"
                FontSize="18"
                Foreground="{StaticResource LightBlueBrush}"
                Text="Selected Fonts" />
            <ScrollViewer
                Grid.Row="1"
                HorizontalAlignment="Stretch"
                VerticalScrollBarVisibility="Auto">
                <ItemsControl
                    Grid.Row="1"
                    HorizontalAlignment="Center"
                    Background="Transparent"
                    Focusable="False"
                    ItemsSource="{Binding TrainingFontSettingList, Mode=OneWay}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border
                                Margin="2"
                                Padding="20,10"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Background="{StaticResource PressedBackgroundBrush}"
                                CornerRadius="2"
                                Focusable="False">
                                <Viewbox
                                    Width="100"
                                    Height="20"
                                    HorizontalAlignment="Left"
                                    Stretch="Uniform">
                                    <TextBlock
                                        Focusable="False"
                                        FontFamily="{Binding FontName, Mode=OneWay, Converter={StaticResource NameToFontConverter}}"
                                        Foreground="{StaticResource ForegroundBrush}"
                                        Text="{Binding FontName, Mode=OneWay}" />
                                </Viewbox>

                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </ScrollViewer>
        </Grid>

        <Grid
            Grid.Row="2"
            Grid.ColumnSpan="3"
            Background="{StaticResource BackgroundBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="500" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="500" />
            </Grid.ColumnDefinitions>
            <StackPanel
                Grid.Column="2"
                Margin="40,10"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Visibility="{Binding TrainingModelCommand.IsLoading, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock
                    Margin="0,5"
                    Text="Loading data (">
                    <Run Text="{Binding TrainingModelCommand.Current, Mode=OneWay}" />
                    <Run Text="of" />
                    <Run Text="{Binding TrainingModelCommand.Maximum, Mode=OneWay}" />
                    <Run Text=") ..." />
                </TextBlock>
                <ProgressBar
                    Width="400"
                    Height="5"
                    Background="{StaticResource ForegroundBrush}"
                    Foreground="{StaticResource AccentBrush}"
                    Maximum="{Binding TrainingModelCommand.Maximum, Mode=OneWay}"
                    Value="{Binding TrainingModelCommand.Current, Mode=OneWay}" />
            </StackPanel>
            <StackPanel
                Grid.Column="2"
                Margin="40,10"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Visibility="{Binding TrainingModelCommand.IsTraining, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">

                <TextBlock
                    Margin="0,10"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Foreground="{StaticResource AccentBrush}">
                    <Run Text="Training model using" />
                    <Run Text="{Binding TrainingModelCommand.Engine, Mode=OneWay}" />
                    <Run Text="..." />
                </TextBlock>
                <ProgressBar
                    Width="400"
                    Height="5"
                    Background="{StaticResource ForegroundBrush}"
                    Foreground="{StaticResource AccentBrush}"
                    IsIndeterminate="True" />
            </StackPanel>

            <Control
                Grid.Column="0"
                Margin="40,10"
                HorizontalAlignment="Right"
                VerticalAlignment="Center"
                DataContext="{Binding EvaluateModelCommand, Mode=OneWay}">

                <Control.Template>
                    <ControlTemplate TargetType="Control">
                        <Grid>
                            <Grid
                                x:Name="Details"
                                Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="80" />
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="80" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <TextBlock
                                    Foreground="{StaticResource AccentBrush}"
                                    Text="Micro Accurcay" />
                                <TextBlock
                                    Grid.Column="1"
                                    Text="{Binding MicroAccuracy, Mode=OneWay}" />
                                <TextBlock
                                    Grid.Row="1"
                                    Foreground="{StaticResource AccentBrush}"
                                    Text="Macro Accurcay" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Text="{Binding MacroAccuracy, Mode=OneWay}" />

                                <TextBlock
                                    Grid.Column="2"
                                    Foreground="{StaticResource AccentBrush}"
                                    Text="Log Loss" />
                                <TextBlock
                                    Grid.Column="3"
                                    Text="{Binding LogLoss, Mode=OneWay}" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="2"
                                    Foreground="{StaticResource AccentBrush}"
                                    Text="Log Loss Reduction" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="3"
                                    Text="{Binding LogLossReduction, Mode=OneWay}" />
                            </Grid>
                            <StackPanel
                                x:Name="Progress"
                                Visibility="Collapsed">
                                <TextBlock
                                    Margin="0,5"
                                    Text="Loading data">
                                    <Run Text="{Binding Current, Mode=OneWay}" />
                                    <Run Text="of" />
                                    <Run Text="{Binding Maximum, Mode=OneWay}" />
                                </TextBlock>
                                <ProgressBar
                                    Width="400"
                                    Height="5"
                                    Background="{StaticResource ForegroundBrush}"
                                    Foreground="{StaticResource AccentBrush}"
                                    Maximum="{Binding Maximum, Mode=OneWay}"
                                    Value="{Binding Current, Mode=OneWay}" />
                            </StackPanel>
                            <TextBlock
                                x:Name="Error"
                                Foreground="{StaticResource AccentBrush}"
                                Text="{Binding Error, Mode=OneWay}"
                                Visibility="Collapsed" />
                            <TextBlock
                                x:Name="Waiting"
                                Foreground="{StaticResource AccentBrush}"
                                Text="Evaluating model .."
                                Visibility="Collapsed" />
                        </Grid>

                        <ControlTemplate.Triggers>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Evaluated">
                                <Setter TargetName="Details" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Error">
                                <Setter TargetName="Error" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Evaluating">
                                <Setter TargetName="Waiting" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Loading">
                                <Setter TargetName="Progress" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Ideal">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Control.Template>
            </Control>

            <Control
                Grid.Column="1"
                Margin="40,10"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                DataContext="{Binding CheckAccuracyCommand, Mode=OneWay}">
                <Control.Template>
                    <ControlTemplate TargetType="Control">
                        <Grid>
                            <Grid
                                x:Name="Details"
                                Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="80" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <TextBlock
                                    Foreground="{StaticResource AccentBrush}"
                                    Text="Accuracy" />
                                <TextBlock
                                    Grid.Column="1"
                                    Text="{Binding Accuracy, Mode=OneWay}" />
                                <TextBlock
                                    Grid.Row="1"
                                    Foreground="{StaticResource AccentBrush}"
                                    Text="Average Score" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Text="{Binding AverageScore, Mode=OneWay}" />
                            </Grid>
                            <StackPanel
                                x:Name="Progress"
                                Visibility="Collapsed">
                                <TextBlock
                                    Margin="0,5"
                                    Text="Loading data.." />
                                <ProgressBar
                                    Width="400"
                                    Height="5"
                                    Background="{StaticResource ForegroundBrush}"
                                    Foreground="{StaticResource AccentBrush}"
                                    Maximum="{Binding Maximum, Mode=OneWay}"
                                    Value="{Binding Current, Mode=OneWay}" />
                            </StackPanel>
                            <TextBlock
                                x:Name="Error"
                                Foreground="{StaticResource AccentBrush}"
                                Text="{Binding Error, Mode=OneWay}"
                                Visibility="Collapsed" />
                            <TextBlock
                                x:Name="Waiting"
                                Foreground="{StaticResource AccentBrush}"
                                Text="Evaluating model .."
                                Visibility="Collapsed" />
                        </Grid>

                        <ControlTemplate.Triggers>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Evaluated">
                                <Setter TargetName="Details" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Error">
                                <Setter TargetName="Error" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Evaluating">
                                <Setter TargetName="Waiting" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Loading">
                                <Setter TargetName="Progress" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding State, Mode=OneWay}"
                                Value="Ideal">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Control.Template>
            </Control>
        </Grid>

    </Grid>
</Window>
